<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Card√°pio Digital</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="logo-container">
            <img src="https://placeholder.svg?height=100&width=100" alt="Logo" class="logo">
            <p>Carregando...</p>
        </div>
    </div>

    <!-- User Info Form -->
    <div id="user-info-screen" class="hidden">
        <div class="form-container">
            <h2>Bem-vindo ao nosso Card√°pio</h2>
            <p>Por favor, informe seus dados para continuar</p>
            <form id="user-form">
                <div class="form-group">
                    <label for="name">Nome:</label>
                    <input type="text" id="name" required>
                </div>
                <div class="form-group">
                    <label for="phone">Telefone:</label>
                    <input type="tel" id="phone" required>
                </div>
                <button type="submit" class="btn-primary">Continuar</button>
            </form>
        </div>
    </div>

    <!-- Main Menu -->
    <div id="menu-screen" class="hidden">
        <!-- Header with categories -->
        <header>
            <div class="logo-small">
                <img src="https://placeholder.svg?height=50&width=50" alt="Logo">
            </div>
            <nav class="categories-nav">
                <ul id="categories-list">
                    <li class="category active" data-category="lanches">Lanches</li>
                    <li class="category" data-category="bebidas">Bebidas</li>
                    <li class="category" data-category="porcoes">Por√ß√µes</li>
                    <li class="category" data-category="sobremesas">Sobremesas</li>
                </ul>
            </nav>
            <div class="cart-icon" id="cart-icon">
                <span class="material-icons">shopping_cart</span>
                <span class="cart-count">0</span>
            </div>
        </header>

        <!-- Menu Items Container -->
        <main>
            <!-- Lanches Category -->
            <div class="category-items active" id="lanches">
                <h2>Lanches</h2>
                
                <div class="menu-item" data-id="1" data-name="Misto Quente" data-price="14.00">
                    <div class="item-image">
                        <img src="https://placeholder.svg?height=80&width=80" alt="Misto Quente">
                    </div>
                    <div class="item-info">
                        <h3>Misto Quente</h3>
                        <p>P√£o, presunto, queijo, tomate e or√©gano</p>
                        <div class="item-price">R$ 14,00</div>
                        <div class="item-addons">
                            <h4>Adicionais:</h4>
                            <div class="addon-option">
                                <input type="checkbox" id="addon-1-1" data-name="Cebolas Empanadas" data-price="7.00">
                                <label for="addon-1-1">Cebolas Empanadas (+R$ 7,00)</label>
                            </div>
                            <div class="addon-option">
                                <input type="checkbox" id="addon-1-2" data-name="Bacon" data-price="5.00">
                                <label for="addon-1-2">Bacon (+R$ 5,00)</label>
                            </div>
                        </div>
                        <button class="add-to-cart">Adicionar</button>
                    </div>
                </div>

                <div class="menu-item" data-id="2" data-name="X-Burger" data-price="18.00">
                    <div class="item-image">
                        <img src="https://placeholder.svg?height=80&width=80" alt="X-Burger">
                    </div>
                    <div class="item-info">
                        <h3>X-Burger</h3>
                        <p>P√£o, hamb√∫rguer, queijo, alface, tomate e molho especial</p>
                        <div class="item-price">R$ 18,00</div>
                        <div class="item-addons">
                            <h4>Adicionais:</h4>
                            <div class="addon-option">
                                <input type="checkbox" id="addon-2-1" data-name="Ovo" data-price="3.00">
                                <label for="addon-2-1">Ovo (+R$ 3,00)</label>
                            </div>
                            <div class="addon-option">
                                <input type="checkbox" id="addon-2-2" data-name="Bacon" data-price="5.00">
                                <label for="addon-2-2">Bacon (+R$ 5,00)</label>
                            </div>
                        </div>
                        <button class="add-to-cart">Adicionar</button>
                    </div>
                </div>
            </div>

            <!-- Bebidas Category -->
            <div class="category-items" id="bebidas">
                <h2>Bebidas</h2>
                
                <div class="menu-item" data-id="3" data-name="Roller 2L" data-price="10.00">
                    <div class="item-image">
                        <img src="https://placeholder.svg?height=80&width=80" alt="Roller 2L">
                    </div>
                    <div class="item-info">
                        <h3>Roller 2L</h3>
                        <p>Refrigerante Roller 2 litros</p>
                        <div class="item-price">R$ 10,00</div>
                        <button class="add-to-cart">Adicionar</button>
                    </div>
                </div>

                <div class="menu-item" data-id="4" data-name="Suco Natural" data-price="8.00">
                    <div class="item-image">
                        <img src="https://placeholder.svg?height=80&width=80" alt="Suco Natural">
                    </div>
                    <div class="item-info">
                        <h3>Suco Natural</h3>
                        <p>Suco natural de laranja, abacaxi ou maracuj√°</p>
                        <div class="item-price">R$ 8,00</div>
                        <button class="add-to-cart">Adicionar</button>
                    </div>
                </div>
            </div>

            <!-- Por√ß√µes Category -->
            <div class="category-items" id="porcoes">
                <h2>Por√ß√µes</h2>
                
                <div class="menu-item" data-id="5" data-name="Batata Frita" data-price="15.00">
                    <div class="item-image">
                        <img src="https://placeholder.svg?height=80&width=80" alt="Batata Frita">
                    </div>
                    <div class="item-info">
                        <h3>Batata Frita</h3>
                        <p>Por√ß√£o de batata frita crocante</p>
                        <div class="item-price">R$ 15,00</div>
                        <div class="item-addons">
                            <h4>Adicionais:</h4>
                            <div class="addon-option">
                                <input type="checkbox" id="addon-5-1" data-name="Cheddar" data-price="4.00">
                                <label for="addon-5-1">Cheddar (+R$ 4,00)</label>
                            </div>
                            <div class="addon-option">
                                <input type="checkbox" id="addon-5-2" data-name="Bacon" data-price="5.00">
                                <label for="addon-5-2">Bacon (+R$ 5,00)</label>
                            </div>
                        </div>
                        <button class="add-to-cart">Adicionar</button>
                    </div>
                </div>

                <div class="menu-item" data-id="6" data-name="Isca de Frango" data-price="22.00">
                    <div class="item-image">
                        <img src="https://placeholder.svg?height=80&width=80" alt="Isca de Frango">
                    </div>
                    <div class="item-info">
                        <h3>Isca de Frango</h3>
                        <p>Iscas de frango empanadas e fritas</p>
                        <div class="item-price">R$ 22,00</div>
                        <button class="add-to-cart">Adicionar</button>
                    </div>
                </div>
            </div>

            <!-- Sobremesas Category -->
            <div class="category-items" id="sobremesas">
                <h2>Sobremesas</h2>
                
                <div class="menu-item" data-id="7" data-name="Pudim" data-price="8.00">
                    <div class="item-image">
                        <img src="https://placeholder.svg?height=80&width=80" alt="Pudim">
                    </div>
                    <div class="item-info">
                        <h3>Pudim</h3>
                        <p>Pudim de leite condensado</p>
                        <div class="item-price">R$ 8,00</div>
                        <button class="add-to-cart">Adicionar</button>
                    </div>
                </div>

                <div class="menu-item" data-id="8" data-name="Sorvete" data-price="7.00">
                    <div class="item-image">
                        <img src="https://placeholder.svg?height=80&width=80" alt="Sorvete">
                    </div>
                    <div class="item-info">
                        <h3>Sorvete</h3>
                        <p>Sorvete de chocolate, morango ou creme</p>
                        <div class="item-price">R$ 7,00</div>
                        <button class="add-to-cart">Adicionar</button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Cart Modal -->
        <div id="cart-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Seu Pedido</h2>
                    <span class="close-modal">&times;</span>
                </div>
                <div class="modal-body">
                    <div id="cart-items">
                        <!-- Cart items will be added here dynamically -->
                    </div>
                    <div class="cart-summary">
                        <div class="summary-row">
                            <span>Subtotal:</span>
                            <span id="subtotal">R$ 0,00</span>
                        </div>
                        <div class="summary-row">
                            <span>Taxa de Entrega:</span>
                            <span id="delivery-fee">R$ 6,00</span>
                        </div>
                        <div class="summary-row total">
                            <span>Total:</span>
                            <span id="total">R$ 0,00</span>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="checkout-btn" class="btn-primary">Finalizar Pedido</button>
                </div>
            </div>
        </div>

        <!-- Checkout Modal -->
        <div id="checkout-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Finalizar Pedido</h2>
                    <span class="close-modal">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="checkout-section">
                        <h3>Tipo de Pedido</h3>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="delivery" name="order-type" value="delivery" checked>
                                <label for="delivery">Entrega</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="pickup" name="order-type" value="pickup">
                                <label for="pickup">Retirada</label>
                            </div>
                        </div>
                    </div>

                    <div id="address-section" class="checkout-section">
                        <h3>Endere√ßo de Entrega</h3>
                        <div class="form-group">
                            <label for="street">Rua:</label>
                            <input type="text" id="street" required>
                        </div>
                        <div class="form-group">
                            <label for="number">N√∫mero:</label>
                            <input type="text" id="number" required>
                        </div>
                        <div class="form-group">
                            <label for="neighborhood">Bairro:</label>
                            <input type="text" id="neighborhood" required>
                        </div>
                    </div>

                    <div class="checkout-section">
                        <h3>Forma de Pagamento</h3>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="pix" name="payment-method" value="pix" checked>
                                <label for="pix">PIX</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="card" name="payment-method" value="card">
                                <label for="card">Cart√£o</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="cash" name="payment-method" value="cash">
                                <label for="cash">Dinheiro</label>
                            </div>
                        </div>
                    </div>

                    <div id="pix-section" class="payment-section">
                        <h3>Pagamento PIX</h3>
                        <p>Chave PIX: exemplo@email.com</p>
                        <button id="copy-pix" class="btn-secondary">Copiar Chave PIX</button>
                    </div>

                    <div id="card-section" class="payment-section hidden">
                        <h3>Pagamento com Cart√£o</h3>
                        <p>O pagamento ser√° realizado na entrega.</p>
                    </div>

                    <div id="cash-section" class="payment-section hidden">
                        <h3>Pagamento em Dinheiro</h3>
                        <div class="form-group">
                            <label for="change">Troco para:</label>
                            <input type="number" id="change" placeholder="R$ 0,00">
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="send-order" class="btn-primary">Enviar Pedido</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Loading Screen
        window.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                document.getElementById('loading-screen').classList.add('hidden');
                document.getElementById('user-info-screen').classList.remove('hidden');
            }, 3000);
        });

        // User Info Form
        document.getElementById('user-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            
            if (name && phone) {
                document.getElementById('user-info-screen').classList.add('hidden');
                document.getElementById('menu-screen').classList.remove('hidden');
            }
        });

        // Category Navigation
        const categories = document.querySelectorAll('.category');
        categories.forEach(category => {
            category.addEventListener('click', () => {
                // Remove active class from all categories
                categories.forEach(c => c.classList.remove('active'));
                // Add active class to clicked category
                category.classList.add('active');
                
                // Hide all category items
                document.querySelectorAll('.category-items').forEach(item => {
                    item.classList.remove('active');
                });
                
                // Show the selected category items
                const categoryId = category.getAttribute('data-category');
                document.getElementById(categoryId).classList.add('active');
            });
        });

        // Cart Functionality
        let cart = [];
        const cartIcon = document.getElementById('cart-icon');
        const cartModal = document.getElementById('cart-modal');
        const cartItems = document.getElementById('cart-items');
        const subtotalElement = document.getElementById('subtotal');
        const totalElement = document.getElementById('total');
        const deliveryFee = 6.00;

        // Add to Cart
        document.querySelectorAll('.add-to-cart').forEach(button => {
            button.addEventListener('click', () => {
                const menuItem = button.closest('.menu-item');
                const id = menuItem.getAttribute('data-id');
                const name = menuItem.getAttribute('data-name');
                const price = parseFloat(menuItem.getAttribute('data-price'));
                
                // Check for selected addons
                const addons = [];
                menuItem.querySelectorAll('.addon-option input:checked').forEach(addon => {
                    addons.push({
                        name: addon.getAttribute('data-name'),
                        price: parseFloat(addon.getAttribute('data-price'))
                    });
                });
                
                // Add item to cart
                cart.push({
                    id,
                    name,
                    price,
                    addons,
                    quantity: 1
                });
                
                // Update cart count
                document.querySelector('.cart-count').textContent = cart.length;
                
                // Show notification
                alert(`${name} adicionado ao carrinho!`);
            });
        });

        // Open Cart Modal
        cartIcon.addEventListener('click', () => {
            updateCartDisplay();
            cartModal.classList.remove('hidden');
        });

        // Close Modals
        document.querySelectorAll('.close-modal').forEach(closeBtn => {
            closeBtn.addEventListener('click', () => {
                closeBtn.closest('.modal').classList.add('hidden');
            });
        });

        // Update Cart Display
        function updateCartDisplay() {
            cartItems.innerHTML = '';
            let subtotal = 0;
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<p class="empty-cart">Seu carrinho est√° vazio</p>';
            } else {
                cart.forEach((item, index) => {
                    const itemElement = document.createElement('div');
                    itemElement.className = 'cart-item';
                    
                    let itemTotal = item.price;
                    let addonsHtml = '';
                    
                    if (item.addons.length > 0) {
                        addonsHtml = '<ul class="addon-list">';
                        item.addons.forEach(addon => {
                            addonsHtml += `<li>‚Ä¢ ${addon.name} (+R$ ${addon.price.toFixed(2).replace('.', ',')})</li>`;
                            itemTotal += addon.price;
                        });
                        addonsHtml += '</ul>';
                    }
                    
                    itemElement.innerHTML = `
                        <div class="cart-item-info">
                            <h3>${item.name}</h3>
                            ${addonsHtml}
                            <div class="cart-item-price">R$ ${itemTotal.toFixed(2).replace('.', ',')}</div>
                        </div>
                        <button class="remove-item" data-index="${index}">√ó</button>
                    `;
                    
                    cartItems.appendChild(itemElement);
                    subtotal += itemTotal;
                });
            }
            
            // Update totals
            subtotalElement.textContent = `R$ ${subtotal.toFixed(2).replace('.', ',')}`;
            const total = subtotal + deliveryFee;
            totalElement.textContent = `R$ ${total.toFixed(2).replace('.', ',')}`;
            
            // Add event listeners to remove buttons
            document.querySelectorAll('.remove-item').forEach(button => {
                button.addEventListener('click', () => {
                    const index = button.getAttribute('data-index');
                    cart.splice(index, 1);
                    document.querySelector('.cart-count').textContent = cart.length;
                    updateCartDisplay();
                });
            });
        }

        // Checkout Button
        document.getElementById('checkout-btn').addEventListener('click', () => {
            if (cart.length === 0) {
                alert('Seu carrinho est√° vazio!');
                return;
            }
            
            cartModal.classList.add('hidden');
            document.getElementById('checkout-modal').classList.remove('hidden');
        });

        // Payment Method Selection
        document.querySelectorAll('input[name="payment-method"]').forEach(input => {
            input.addEventListener('change', () => {
                document.querySelectorAll('.payment-section').forEach(section => {
                    section.classList.add('hidden');
                });
                
                const method = document.querySelector('input[name="payment-method"]:checked').value;
                document.getElementById(`${method}-section`).classList.remove('hidden');
            });
        });

        // Order Type Selection
        document.querySelectorAll('input[name="order-type"]').forEach(input => {
            input.addEventListener('change', () => {
                const addressSection = document.getElementById('address-section');
                if (document.getElementById('delivery').checked) {
                    addressSection.classList.remove('hidden');
                } else {
                    addressSection.classList.add('hidden');
                }
            });
        });

        // Copy PIX
        document.getElementById('copy-pix').addEventListener('click', () => {
            navigator.clipboard.writeText('exemplo@email.com');
            alert('Chave PIX copiada!');
        });

        // Send Order to WhatsApp
        document.getElementById('send-order').addEventListener('click', () => {
            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            const orderType = document.querySelector('input[name="order-type"]:checked').value;
            const paymentMethod = document.querySelector('input[name="payment-method"]:checked').value;
            
            let addressText = '';
            if (orderType === 'delivery') {
                const street = document.getElementById('street').value;
                const number = document.getElementById('number').value;
                const neighborhood = document.getElementById('neighborhood').value;
                
                if (!street || !number || !neighborhood) {
                    alert('Por favor, preencha o endere√ßo completo.');
                    return;
                }
                
                addressText = `Endere√ßo: ${street}, ${number} - ${neighborhood}`;
            }
            
            let changeText = '';
            if (paymentMethod === 'cash') {
                const changeAmount = document.getElementById('change').value;
                if (changeAmount) {
                    changeText = `Troco para: R$ ${changeAmount}`;
                }
            }
            
            // Calculate totals
            let subtotal = 0;
            cart.forEach(item => {
                let itemTotal = item.price;
                item.addons.forEach(addon => {
                    itemTotal += addon.price;
                });
                subtotal += itemTotal;
            });
            
            const total = subtotal + deliveryFee;
            
            // Format date and time
            const now = new Date();
            const dateStr = now.toLocaleDateString('pt-BR');
            const timeStr = now.toLocaleTimeString('pt-BR');
            
            // Create order message
            let message = `üîî Pedido #1 (${dateStr} - ${timeStr})\n`;
            message += '------------------------\n';
            
            cart.forEach(item => {
                message += `${item.name}\n`;
                
                item.addons.forEach(addon => {
                    message += `   ‚Ä¢ ${addon.name} (+R$ ${addon.price.toFixed(2)})\n`;
                });
                
                let itemTotal = item.price;
                item.addons.forEach(addon => {
                    itemTotal += addon.price;
                });
                
                message += `Valor: R$ ${itemTotal.toFixed(2)}\n`;
                message += '------------------------\n';
            });
            
            message += `Sub Total: R$ ${subtotal.toFixed(2)}\n`;
            message += `Taxa de Entrega: R$ ${deliveryFee.toFixed(2)}\n`;
            message += `Total: R$ ${total.toFixed(2)}\n`;
            
            let paymentText = '';
            switch(paymentMethod) {
                case 'pix':
                    paymentText = 'PIX';
                    break;
                case 'card':
                    paymentText = 'Cart√£o';
                    break;
                case 'cash':
                    paymentText = 'Dinheiro';
                    if (changeText) {
                        paymentText += ` (${changeText})`;
                    }
                    break;
            }
            
            message += `Forma de pagto: ${paymentText}\n`;
            message += '------------------------\n';
            message += `Tipo: ${orderType === 'delivery' ? 'Entrega' : 'Retirada'}\n`;
            
            if (addressText) {
                message += `${addressText}\n\n`;
            }
            
            message += `üë§ Cliente: ${name}\n`;
            message += `üì≤ Telefone: ${phone}`;
            
            // Encode message for WhatsApp URL
            const encodedMessage = encodeURIComponent(message);
            const whatsappUrl = `https://wa.me/5517992095122?text=${encodedMessage}`;
            
            // Open WhatsApp
            window.open(whatsappUrl, '_blank');
        });
    </script>
</body>
</html>
